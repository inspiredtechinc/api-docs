<!DOCTYPE html>
<html>
<head>
  <title>Swagger UI</title>
  <link rel="stylesheet" type="text/css" href="../../../../assets/swagger-ui.css">
</head>
<body>
  <div id="swagger-ui"></div>
  <script src="../../../../assets/swagger-ui-bundle.js"></script>
  <script>
    const spec = {"openapi":"3.0.0","info":{"title":"App API Gateway","description":"API Gateway for client-facing application endpoints.......","version":"1.0.0","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"servers":[{"url":"https://app-staging-gateway-8ua0taf7.uc.gateway.dev/api/v1","description":"Staging"}],"paths":{"/users/heartbeat":{"get":{"description":"Returns the heartbeat status of the user service.","summary":"User service heartbeat","tags":["user"],"operationId":"userHeartbeat","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"User service heartbeat","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Email already exists."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Phone number already registered."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect email or password."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect phone number or OTP."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Verification code is invalid or expired."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/email":{"post":{"description":"Registers a new user using email address.","summary":"User signup via email","tags":["user"],"operationId":"emailSignUp","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":8,"maxLength":50}}}}},"description":"The user to register","required":true},"responses":{"201":{"description":"The registered user with JWT token","headers":{"Authorization":{"description":"Bearer JWT token to be used for subsequent requests.","schema":{"type":"string","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}},"content":{"application/json":{"schema":{"type":"object","description":"Response containing a single user object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"email":{"type":"string"},"status":{"type":"string"}}},"toast":{"type":"string","example":"User registered successfully."},"error":{"type":"string","example":"Email already exists."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Authentication required."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/email/confirm":{"post":{"description":"Confirms user registration via email verification code.","summary":"User signup via email confirmation","tags":["user"],"operationId":"emailSignUpOTPConfirm","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"contact":{"type":"string","format":"email","description":"The email address used for registration"},"otp":{"type":"string","description":"The email verification code","maxLength":6,"pattern":"^[0-9]*$"}},"required":["otp","contact"]}}},"description":"The email verification code","required":true},"responses":{"201":{"description":"The registered and confirmed user","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single user object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"avatar":{"type":"string","format":"uri"},"phone":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"city":{"type":"string"},"country":{"type":"string","maxItems":10},"interests":{"type":"array","items":{"type":"string"},"maxItems":10},"languages":{"type":"array","items":{"type":"string"},"maxItems":10},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"gender":{"type":"string","enum":["Male","Female","Non-binary","Transgender","Genderqueer","Genderfluid","Agender","Two-spirit","Bigender","Other","Prefer not to say"]},"status":{"type":"string","enum":["active","suspended","pending","deleted"]},"deleted":{"type":"boolean"},"deleted_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","example":"User registered successfully."},"error":{"type":"string","example":"Invalid or expired verification code."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Email already exists."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/phone":{"post":{"description":"Registers a new user using phone number.","summary":"User signup via phone number","tags":["user"],"operationId":"phoneSignUp","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["phone_number","password"],"properties":{"phone_number":{"type":"string","description":"The phone number in E.164 format (e.g., +1234567890)"},"password":{"type":"string","minLength":8,"maxLength":50}}}}},"description":"The user to register","required":true},"responses":{"201":{"description":"The registered user"},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Phone number already registered."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect email or password."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/phone/confirm":{"post":{"description":"Confirms user registration via phone verification code.","summary":"User signup via phone number confirmation","tags":["user"],"operationId":"phoneSignUpOTPConfirm","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"contact":{"type":"string","description":"The phone number in E.164 format (e.g., +1234567890)"},"otp":{"type":"string","description":"The phone verification code","maxLength":6,"pattern":"^[0-9]*$"}},"required":["otp","contact"]}}},"description":"The phone verification code","required":true},"responses":{"201":{"description":"The registered and confirmed user","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single user object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"avatar":{"type":"string","format":"uri"},"phone":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"city":{"type":"string"},"country":{"type":"string","maxItems":10},"interests":{"type":"array","items":{"type":"string"},"maxItems":10},"languages":{"type":"array","items":{"type":"string"},"maxItems":10},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"gender":{"type":"string","enum":["Male","Female","Non-binary","Transgender","Genderqueer","Genderfluid","Agender","Two-spirit","Bigender","Other","Prefer not to say"]},"status":{"type":"string","enum":["active","suspended","pending","deleted"]},"deleted":{"type":"boolean"},"deleted_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","example":"User registered successfully."},"error":{"type":"string","example":"Invalid or expired phone verification code."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect phone number or OTP."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Verification code is invalid or expired."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/otp/email":{"post":{"description":"Registers a new user using OTP sent to email.","summary":"Resend registration email OTP","tags":["user"],"operationId":"sendRegistrationEmailOTP","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"The email address to send the OTP"}},"required":["email"]}}},"description":"The email address to send the OTP","required":true},"responses":{"201":{"description":"The OTP sent to the email","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Authentication required."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/register/otp/phone":{"post":{"description":"Registers a new user using OTP sent to phone.","summary":"Resend registration Phone OTP","tags":["user"],"operationId":"sendRegistrationPhoneOTP","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"phone_number":{"type":"string","description":"The phone number in E.164 format (e.g., +1234567890)"}},"required":["phone_number"]}}},"description":"The phone number to send the OTP","required":true},"responses":{"201":{"description":"The OTP sent to the phone","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Email already exists."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Phone number already registered."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect email or password."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/social/auth":{"post":{"description":"Authenticates user via social login provider.","summary":"User auth via social media","tags":["user"],"operationId":"socialAuth","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["id_token"],"properties":{"id_token":{"type":"string","description":"The social media token"}}}}},"description":"The user cred to authenticate","required":true},"responses":{"200":{"description":"Return a user with JWT if exists or create a new user","content":{"application/json":{"schema":{"type":"object","description":"Response for user social authentication.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"avatar":{"type":"string","format":"uri"},"phone":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"city":{"type":"string"},"country":{"type":"string","maxItems":10},"interests":{"type":"array","items":{"type":"string"},"maxItems":10},"languages":{"type":"array","items":{"type":"string"},"maxItems":10},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"gender":{"type":"string","enum":["Male","Female","Non-binary","Transgender","Genderqueer","Genderfluid","Agender","Two-spirit","Bigender","Other","Prefer not to say"]}}},"token":{"type":"string","description":"JWT access token for the user."},"toast":{"type":"string","example":"Social authentication successful."},"error":{"type":"string","example":"Social authentication failed."}},"required":["success","data","token"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect phone number or OTP."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Verification code is invalid or expired."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/login/email":{"post":{"description":"Logs in a user using email and password.","summary":"Sign in a user via email","tags":["user"],"operationId":"emailSignIn","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":8,"maxLength":50}}}}},"description":"The credentials to login","required":true},"responses":{"200":{"description":"The logged in user","content":{"application/json":{"schema":{"type":"object","description":"Response for user login (email/phone).","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"avatar":{"type":"string","format":"uri"},"phone":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"city":{"type":"string"},"country":{"type":"string","maxItems":10},"interests":{"type":"array","items":{"type":"string"},"maxItems":10},"languages":{"type":"array","items":{"type":"string"},"maxItems":10},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"gender":{"type":"string","enum":["Male","Female","Non-binary","Transgender","Genderqueer","Genderfluid","Agender","Two-spirit","Bigender","Other","Prefer not to say"]}}},"token":{"type":"string","description":"JWT access token for the user."},"toast":{"type":"string","example":"Login successful."},"error":{"type":"string","example":"Incorrect email or password."}},"required":["success","data","token"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Authentication required."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/login/phone":{"post":{"description":"Logs in a user using phone number and OTP.","summary":"Sign in a user via phone number","tags":["user"],"operationId":"phoneSignIn","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["phone_number","password"],"properties":{"phone_number":{"type":"string","description":"The phone number in E.164 format (e.g., +1234567890)"},"password":{"type":"string","minLength":8,"maxLength":50}}}}},"description":"The credentials to login","required":true},"responses":{"200":{"description":"The logged in user","content":{"application/json":{"schema":{"type":"object","description":"Response for user login (email/phone).","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"avatar":{"type":"string","format":"uri"},"phone":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"city":{"type":"string"},"country":{"type":"string","maxItems":10},"interests":{"type":"array","items":{"type":"string"},"maxItems":10},"languages":{"type":"array","items":{"type":"string"},"maxItems":10},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"gender":{"type":"string","enum":["Male","Female","Non-binary","Transgender","Genderqueer","Genderfluid","Agender","Two-spirit","Bigender","Other","Prefer not to say"]}}},"token":{"type":"string","description":"JWT access token for the user."},"toast":{"type":"string","example":"Login successful."},"error":{"type":"string","example":"Incorrect phone number or OTP."}},"required":["success","data","token"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Email already exists."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/users/me":{"get":{"description":"Retrieves the current user's enhanced profile information.","summary":"Get current user profile","tags":["user"],"operationId":"getCurrentUser","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"responses":{"200":{"description":"The current user profile in enhanced format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancedUserProfileResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Phone number already registered."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Incorrect phone number or OTP."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"patch":{"description":"Updates the current user's profile information using enhanced nested format for partial updates.","summary":"Update current user profile","tags":["user"],"operationId":"updateCurrentUser","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancedProfileUpdateRequest"}}},"description":"Profile update data in enhanced nested format","required":true},"responses":{"200":{"description":"The updated user profile in enhanced format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancedUserProfileResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Verification code is invalid or expired."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Authentication required."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/avatar":{"patch":{"description":"Updates the current user's avatar image.","summary":"Update current user's avatar","tags":["user"],"operationId":"updateCurrentUserAvatar","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","format":"uri"}}},"description":"JSON body with Avatar URL","required":true},"responses":{"200":{"description":"The updated user","content":{"application/json":{"schema":{"type":"object","description":"Response containing the updated user avatar.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"avatar":{"type":"string","format":"uri","description":"The updated avatar URL"}},"description":"The updated avatar object"},"toast":{"type":"string","example":"Avatar updated successfully."},"error":{"type":"string","example":"Invalid image format."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"delete":{"description":"Deletes the current user's avatar image.","summary":"Delete current user's avatar","tags":["user"],"operationId":"deleteCurrentUserAvatar","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"responses":{"200":{"description":"The updated user","content":{"application/json":{"schema":{"type":"object","description":"Response containing the updated user avatar.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"avatar":{"type":"string","format":"uri","description":"The updated avatar URL"}},"description":"The updated avatar object"},"toast":{"type":"string","example":"Avatar updated successfully."},"error":{"type":"string","example":"No avatar to delete."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"post":{"description":"Uploads a new avatar image for the current user.","summary":"Change current user's password","tags":["user"],"operationId":"changeCurrentUserPassword","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"old_password":{"type":"string","minLength":8,"maxLength":50,"description":"The current password"},"new_password":{"type":"string","minLength":8,"maxLength":50,"description":"The new password"},"verify_password":{"type":"string","minLength":8,"maxLength":50,"description":"Verify the new password"}},"required":["old_password","new_password","verify_password"]}}},"description":"The password change request","required":true},"responses":{"200":{"description":"The password change response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/phone/confirm":{"post":{"description":"Confirms the user's phone number with a verification code.","summary":"Confirm current user's phone number verification","tags":["user"],"operationId":"confirmCurrentUserPhoneNumberVerification","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"otp":{"type":"string","description":"The verification code sent to the user's phone","maxLength":6,"pattern":"^[0-9]*$"},"contact":{"type":"string","description":"The phone number to verify","maxLength":20,"example":"+1234567890"}},"required":["otp","contact"]}}},"description":"JSON body with the verification code for confirmation","required":true},"responses":{"200":{"description":"Phone Number Successfully Verified","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/phone/verify":{"post":{"description":"Verifies the user's phone number.","summary":"Initiate phone number verification for the current user","tags":["user"],"operationId":"initiateCurrentUserPhoneNumberVerification","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"phone_number":{"type":"string","description":"The phone number to verify","maxLength":20,"example":"+1234567890"}},"required":["phone_number"]}}},"description":"JSON body with the phone number for verification initiation","required":true},"responses":{"200":{"description":"Verification Initiated Successfully","content":{"application/json":{"schema":{"type":"object","description":"Response for email/phone verification (initiate/confirm).","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"verified":{"type":"boolean","description":"Whether the verification was successful","example":true},"method":{"type":"string","description":"Verification method (e.g., 'email', 'phone')","example":"email"},"contact":{"type":"string","description":"The contact info verified","example":"user@example.com"}}},"toast":{"type":"string","example":"Verification successful."},"error":{"type":"string","example":"Verification code is invalid or expired."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/phone/add":{"patch":{"description":"Adds a new phone number to the user's profile.","summary":"Add a new phone number to the current user","tags":["user"],"operationId":"addCurrentUserPhone","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"phone_number":{"type":"string","description":"The phone number in E.164 format (e.g., +1234567890)"}},"required":["phone_number"]}}},"description":"The phone number to add","required":true},"responses":{"200":{"description":"Phone number added and verification initiated","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}}}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}},"409":{"description":"Phone number already in use","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}}}}},"/users/me/email/add":{"patch":{"description":"Adds a new email address to the user's profile.","summary":"Add a new email to the current user","tags":["user"],"operationId":"addCurrentUserEmail","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}},"description":"The email to add","required":true},"responses":{"200":{"description":"Email added and verification initiated","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}}}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}},"409":{"description":"Email already in use","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}}}}},"/users/me/email/confirm":{"post":{"description":"Confirms the user's email address with a verification code.","summary":"Confirm current user's email","tags":["user"],"operationId":"confirmCurrentUserEmail","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"otp":{"type":"string","maxLength":6,"pattern":"^[0-9]*$","description":"The email verification code"},"contact":{"type":"string","format":"email","description":"The email address to verify"}},"required":["otp","contact"]}}},"description":"The email verification code","required":true},"responses":{"200":{"description":"The email verification response","content":{"application/json":{"schema":{"type":"object","description":"Response for email/phone verification (initiate/confirm).","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"verified":{"type":"boolean","description":"Whether the verification was successful","example":true},"method":{"type":"string","description":"Verification method (e.g., 'email', 'phone')","example":"email"},"contact":{"type":"string","description":"The contact info verified","example":"user@example.com"}}},"toast":{"type":"string","example":"Verification successful."},"error":{"type":"string","example":"Email confirmation failed."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/email/verify":{"post":{"description":"Verifies the user's email address.","summary":"Verify current user's email","tags":["user"],"operationId":"verifyCurrentUserEmail","x-google-backend":{"address":"https://user-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}},"description":"The email verification request"},"responses":{"200":{"description":"The email verification response","content":{"application/json":{"schema":{"type":"object","description":"Response for email/phone verification (initiate/confirm).","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"verified":{"type":"boolean","description":"Whether the verification was successful","example":true},"method":{"type":"string","description":"Verification method (e.g., 'email', 'phone')","example":"email"},"contact":{"type":"string","description":"The contact info verified","example":"user@example.com"}}},"toast":{"type":"string","example":"Verification successful."},"error":{"type":"string","example":"Verification code is invalid or expired."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/users/me/identity/verify":{"post":{"description":"Verifies the user's identity with provided documents.","summary":"Submit biometric verification request for current user","tags":["user"],"operationId":"submitCurrentUserBiometricVerificationRequest","security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the user"},"documents":{"type":"object","description":"The documents to verify","additionalProperties":{"type":"object","properties":{"front":{"type":"string","description":"URL to the front of the document","format":"url"},"back":{"type":"string","description":"URL to the back of the document","format":"url"}}}},"selfies":{"type":"array","description":"Selfies for verification","items":{"type":"object","properties":{"description":{"type":"string","description":"Description of the selfie"},"urls":{"type":"array","description":"List of selfie URLs","items":{"type":"string","format":"url"}}}}}},"required":["id","documents","selfies"]}}},"description":"Biometric Verification Request","required":true},"responses":{"200":{"description":"The identity verification response","content":{"application/json":{"schema":{"type":"object","description":"Response for biometric/identity verification.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"verification_id":{"type":"string","description":"ID of the verification request","example":"verif_12345"},"status":{"type":"string","description":"Status of the identity verification","example":"pending"},"submitted_at":{"type":"string","format":"date-time","description":"Submission timestamp","example":"2025-06-16T12:00:00.000Z"}}},"toast":{"type":"string","example":"Identity verification submitted."},"error":{"type":"string","example":"Identity verification failed."}},"required":["success","data"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"User not found."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/heartbeat":{"get":{"summary":"Heartbeat","description":"Returns a simple heartbeat response to verify the Listing service is running.","tags":["listing"],"operationId":"listingsHeartbeat","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Heartbeat","content":{"application/json":{"schema":{"type":"string"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings":{"post":{"description":"Create a new listing with full validation. This endpoint is used for publishing final listings and can also be called automatically when a draft listing status changes from 'pending' to 'active' after review approval.","summary":"Create a new listing (publish)","tags":["listing"],"operationId":"listingsCreateListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"thumbnail":{"type":"string","format":"uri"},"max_guests":{"type":"integer","format":"int32"},"instant_book":{"type":"boolean"},"photos":{"type":"array","items":{"type":"string","format":"uri","minimum":3},"maxItems":10},"host":{"type":"object","properties":{"id":{"type":"string"}}},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"]},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","description":"Category code from CategoryMeta registry","enum":["couchsurf","workspace","storage","bike_rental","shower","parking","nightlife","meeting_room","kitchen","retail_space","classroom","lounge","studio","playroom","charging_station","ride_share","cleaning","bike_rentals"],"example":"couchsurf"}},"required":["title","description","price","thumbnail","max_guests","instant_book","photos","host","amenities","house_rules","cancellation_policy","address","category_code"]}}},"description":"The listing to create","required":true},"responses":{"201":{"description":"The created listing","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid listing data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"get":{"summary":"Get all listings","description":"Returns a paginated list of all listings, with optional filters for location and pagination.","tags":["listing"],"operationId":"listingsGetAllListings","security":[],"parameters":[{"name":"latitude","in":"query","description":"Latitude of the user's location","required":false,"schema":{"type":"number","format":"double"}},{"name":"longitude","in":"query","description":"Longitude of the user's location","required":false,"schema":{"type":"number","format":"double"}},{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}}],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"All listings","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double"},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}}}},"meta":{"type":"object","properties":{"page":{"type":"integer","description":"Current page number"},"limit":{"type":"integer","description":"Number of items per page"},"total":{"type":"integer","description":"Total number of items"},"pages":{"type":"integer","description":"Total number of pages"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/grouped":{"get":{"summary":"Get grouped listings (sample for all groups)","description":"Returns up to 10 listings for each group: trending, new, nearme, hot, free.","tags":["listing"],"operationId":"listingsGetGroupedListings","security":[],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"latitude","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"longitude","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"Grouped listings sample","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"trending":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"new":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"nearme":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"hot":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"free":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"summary":{"type":"object","properties":{"TrendingCount":{"type":"integer"},"NewCount":{"type":"integer"},"NearMeCount":{"type":"integer"},"HotCount":{"type":"integer"},"FreeCount":{"type":"integer"},"groups":{"type":"array","items":{"type":"string","description":"Name of the group (e.g., trending, new, nearme, hot, free, uncategorized)"},"description":"List of supported group names for individual fetches (e.g., trending, new, nearme, hot, free, uncategorized)"}}}}}}}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}}}}},"/listings/group/{group}":{"get":{"summary":"Get listings for a specific group","description":"Returns listings for a single group (trending, new, nearme, hot, free) with pagination.","tags":["listing"],"operationId":"listingsGetListingsByGroup","security":[],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"group","in":"path","required":true,"schema":{"type":"string","enum":["trending","new","nearme","hot","free"]}},{"name":"latitude","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"longitude","in":"query","required":false,"schema":{"type":"number","format":"double"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0}}],"responses":{"200":{"description":"Listings for the requested group","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Listing"}},"count":{"type":"integer"}}}}}},"400":{"description":"Bad request (invalid group or parameters)","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}}}}}}}}},"/listings/categories":{"get":{"summary":"Get all available categories","description":"Returns a list of all available listing categories and their metadata (code, name, description, verb, icon).","tags":["listing"],"operationId":"categoriesGetAllCategories","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"responses":{"200":{"description":"All available categories","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"verb":{"type":"string"},"icon":{"type":"string"}}}},"meta":{"type":"object"}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"}},"required":["success","error"]}}}}}}},"/listings/address":{"get":{"summary":"Address auto complete","description":"Returns a list of address suggestions based on the user's query and location. Useful for implementing address autocomplete features in the UI.\n","tags":["listing"],"operationId":"listingsAddressAutoComplete","security":[{"jwtAuth":[]}],"parameters":[{"name":"q","in":"query","description":"Address to search for (partial or full address string)","required":true,"schema":{"type":"string"}},{"name":"lat","in":"query","description":"Latitude of the user's location (for proximity ranking)","required":true,"schema":{"type":"number","format":"double"}},{"name":"lon","in":"query","description":"Longitude of the user's location (for proximity ranking)","required":true,"schema":{"type":"number","format":"double"}}],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"Address suggestions","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"description":{"type":"string"},"place_id":{"type":"string"}},"required":["address","description","place_id"]}},"meta":{"type":"object","properties":{"total":{"type":"integer","description":"Total number of suggestions"}},"required":["total"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid query)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/drafts":{"post":{"summary":"Save listing draft","description":"Save a listing draft with minimal validation. Allows users to save incomplete listing data that can be completed later. The status will be automatically set to 'draft'.","tags":["listing"],"operationId":"listingsCreateDraft","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Title of the listing (required for drafts)","maxLength":64},"description":{"type":"string","description":"Description of the listing"},"price":{"type":"number","format":"double","minimum":0,"description":"Price per hour/day"},"thumbnail":{"type":"string","format":"uri","description":"Main thumbnail image URL"},"max_guests":{"type":"integer","format":"int32","minimum":1,"description":"Maximum number of guests"},"instant_book":{"type":"boolean","description":"Whether instant booking is enabled"},"photos":{"type":"array","items":{"type":"string","format":"uri"},"maxItems":10,"description":"Array of photo URLs (minimum 3 required for publishing)"},"host":{"type":"object","properties":{"id":{"type":"string"}},"description":"Host information"},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20,"description":"List of available amenities"},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5,"description":"House rules for guests"},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"],"description":"Cancellation policy"},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"description":"Address information (partial acceptable for drafts)"},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","enum":["couch_surfing","co_working","storages","meeting_room","kitchen","retail_space","classroom","lounge","shower","studio","playroom","charging_station","relax","nightlife","ride_share","cleaning","bike_rentals"],"description":"Category of the listing"}},"required":["title"],"additionalProperties":false}}},"description":"The listing draft data. Only title is required, all other fields are optional for drafts.","required":true},"responses":{"201":{"description":"Draft saved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"toast":{"type":"string","example":"Draft saved successfully"},"data":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the listing"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified","default":false},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing (will always be 'draft' for this endpoint)","enum":["draft"],"default":"draft"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}},"nullable":true},"price":{"type":"number","format":"double","minimum":0,"nullable":true},"available":{"type":"boolean","default":true},"thumbnail":{"type":"string","format":"uri","nullable":true},"distance":{"type":"number","format":"double","nullable":true},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32","nullable":true},"rating":{"type":"number","format":"double","default":0},"instant_book":{"type":"boolean","nullable":true},"active":{"type":"boolean","default":false},"amenities":{"type":"array","items":{"type":"string"},"default":[]},"cancellation_policy":{"type":"string","nullable":true},"category":{"type":"object","nullable":true},"photos":{"type":"array","items":{"type":"string","format":"uri"},"default":[]},"host":{"type":"object","nullable":true},"house_rules":{"type":"array","items":{"type":"string"},"default":[]},"updated_at":{"type":"string","format":"date-time"}},"required":["id","title","status","created_at","updated_at"]}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid draft data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Title is required for draft listings."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please provide a title for your listing."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid or missing authentication token."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please log in to continue."}},"required":["success","error"]}}}},"422":{"description":"Validation error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Validation failed: title must be at least 1 character long."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please check your input and try again."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Something went wrong. Please try again."}},"required":["success","error"]}}}}}},"put":{"summary":"Update listing draft","description":"Update an existing draft listing. Only drafts can be updated through this endpoint. To publish a draft, use the main POST /listings endpoint.","tags":["listing"],"operationId":"listingsUpdateDraft","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"query","description":"Draft listing ID to update","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Title of the listing","maxLength":64},"description":{"type":"string","description":"Description of the listing"},"price":{"type":"number","format":"double","minimum":0,"description":"Price per hour/day"},"thumbnail":{"type":"string","format":"uri","description":"Main thumbnail image URL"},"max_guests":{"type":"integer","format":"int32","minimum":1,"description":"Maximum number of guests"},"instant_book":{"type":"boolean","description":"Whether instant booking is enabled"},"photos":{"type":"array","items":{"type":"string","format":"uri"},"maxItems":10,"description":"Array of photo URLs"},"host":{"type":"object","properties":{"id":{"type":"string"}},"description":"Host information"},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20,"description":"List of available amenities"},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5,"description":"House rules for guests"},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"],"description":"Cancellation policy"},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"description":"Address information"},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","enum":["couch_surfing","co_working","storages","meeting_room","kitchen","retail_space","classroom","lounge","shower","studio","playroom","charging_station","relax","nightlife","ride_share","cleaning","bike_rentals"],"description":"Category of the listing"}},"additionalProperties":false}}},"description":"The updated listing draft data. All fields are optional.","required":true},"responses":{"200":{"description":"Draft updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"toast":{"type":"string","example":"Draft updated successfully"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}},"nullable":true},"price":{"type":"number","format":"double","minimum":0,"nullable":true},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri","nullable":true},"distance":{"type":"number","format":"double","nullable":true},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32","nullable":true},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean","nullable":true},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string","nullable":true},"category":{"type":"object","nullable":true},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object","nullable":true},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}},"required":["id","status","created_at","updated_at"]}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid data or listing is not a draft)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Cannot update listing: not a draft or invalid data."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Only draft listings can be updated through this endpoint."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid or missing authentication token."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please log in to continue."}},"required":["success","error"]}}}},"404":{"description":"Draft listing not found or user doesn't have access","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Draft listing not found or access denied."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Draft listing not found."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Something went wrong. Please try again."}},"required":["success","error"]}}}}}}},"/listings/{id}":{"get":{"summary":"Get a listing","description":"Returns the details of a single listing by its ID.","tags":["listing"],"operationId":"listingsGetListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The listing","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"put":{"summary":"Update a listing","description":"Updates the details of an existing listing by its ID.","tags":["listing"],"operationId":"listingsUpdateListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"thumbnail":{"type":"string","format":"uri"},"max_guests":{"type":"integer","format":"int32"},"instant_book":{"type":"boolean"},"photos":{"type":"array","items":{"type":"string","format":"uri","minimum":3},"maxItems":10},"host":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"avatar":{"type":"string","format":"uri"},"gender":{"type":"string"},"rating":{"type":"number","format":"double"}}},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"]},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}},"required":["title","description","price","thumbnail","max_guests","instant_book","photos","host","amenities","house_rules","cancellation_policy","address","category"]}}},"description":"The listing to update","required":true},"responses":{"200":{"description":"Listing updated","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID or data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"delete":{"summary":"Delete a listing","description":"Deletes a listing by its ID.","tags":["listing"],"operationId":"listingsDeleteListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Listing deleted","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"id":{"type":"string","description":"The ID of the deleted listing"}},"required":["success","id"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/{id}/weather":{"get":{"summary":"Get weather for a listing","description":"Returns the current weather and forecast for the specified listing location.","tags":["listing"],"operationId":"listingsGetListingWeather","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Return the listing weather","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string","example":"listing_123"},"latitude":{"type":"number","format":"float","example":40.7128},"longitude":{"type":"number","format":"float","example":-74.006},"timezone":{"type":"string","example":"Toronto/Ontario"},"current":{"type":"object","properties":{"date":{"type":"integer","format":"int64","example":1721253600},"humidity":{"type":"integer","example":65,"description":"Percentage (%)"},"wind_speed":{"type":"number","format":"float","example":13,"description":"km/h"},"feels_like":{"type":"number","format":"float","example":299.15,"description":"Celsius"},"temp":{"type":"number","format":"float","example":297.15,"description":"Celsius"},"visibility":{"type":"integer","example":10000,"description":"Meters"},"air_quality":{"type":"integer","example":36}}},"weather-forecast":{"type":"array","items":{"type":"object","properties":{"date":{"type":"integer","format":"int64","example":1750128000},"temp":{"type":"number","format":"float","example":297.15}}}}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/user":{"get":{"summary":"Get all listings for the authenticated user (\"my listings\")","description":"Returns all listings belonging to the currently authenticated user. User ID is extracted from the JWT token. Use this endpoint for \"my listings\" in the UI.","tags":["listing"],"operationId":"listingsGetAllListingsForCurrentUser","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"status","in":"query","description":"Filter listings by status. If not provided, returns all statuses.","required":false,"schema":{"type":"string","enum":["draft","pending","active","paused","archived","deleted"]}}],"responses":{"200":{"description":"All listings for the authenticated user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double"},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}}}},"meta":{"type":"object","properties":{"page":{"type":"integer","description":"Current page number"},"limit":{"type":"integer","description":"Number of items per page"},"total":{"type":"integer","description":"Total number of items"},"pages":{"type":"integer","description":"Total number of pages"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/search":{"post":{"summary":"Search listings","description":"Searches for listings based on location, dates, guests, price, and other filters.","tags":["listing"],"operationId":"listingsSearchListings","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"city":{"type":"string"},"country":{"type":"string"}}},"start_date":{"type":"string","format":"date-time"},"end_date":{"type":"string","format":"date-time"},"guests":{"type":"integer","format":"int32"},"price_min":{"type":"number","format":"double"},"price_max":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"category":{"type":"string"},"keywords":{"type":"string"},"gender":{"type":"string","description":"Filter by host gender"},"page":{"type":"integer","format":"int32"},"limit":{"type":"integer","format":"int32"}}}}},"description":"Search criteria (location, dates, guests, price, instant_book, category, keywords, gender, etc.)","required":true},"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number","format":"double"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"thumbnail":{"type":"string","format":"uri"},"rating":{"type":"number","format":"double"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"}}},"available":{"type":"boolean"},"distance":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"short_description":{"type":"string"}},"required":["id","title","price","location","thumbnail","available"]}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"pages":{"type":"integer"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid search)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/{id}/report":{"post":{"summary":"Report a listing","description":"Allows a user to report a listing for inappropriate or incorrect content.","tags":["listing"],"operationId":"listingsReportListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["reason","reported_by"],"properties":{"reason":{"type":"string","enum":["INAPPROPRIATE","MISLEADING","SPAM","OFFENSIVE","OTHER"]},"details":{"type":"string","maxLength":500,"description":"Additional details about the report"},"reported_by":{"type":"string","description":"User ID of the person reporting the listing"}}}}},"description":"The report to create","required":true},"responses":{"201":{"description":"Listing reported","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"report_id":{"type":"string","description":"The ID of the created report"}},"required":["success","report_id"]}}}},"400":{"description":"Bad request (invalid ID or report)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/locations/search":{"get":{"summary":"Location search and autocomplete","description":"Searches for cities and countries based on a prefix query","security":[],"tags":["listing"],"operationId":"locationsSearch","parameters":[{"name":"q","in":"query","description":"Search query (min 2 characters)","required":true,"schema":{"type":"string","minLength":2}},{"name":"limit","in":"query","description":"Maximum number of results (default 10)","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"type","in":"query","description":"Filter type (city|country|all)","required":false,"schema":{"type":"string","enum":["city","country","all"],"default":"all"}}],"responses":{"200":{"description":"Successful location search","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"locations":{"type":"array","items":{"$ref":"#/components/schemas/LocationSearchResult"}}}},"meta":{"type":"object","properties":{"query":{"type":"string"},"results_count":{"type":"integer"},"search_time_ms":{"type":"integer"}}}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid query)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/listings/locations/popular":{"get":{"summary":"Get popular locations and countries","description":"Returns popular destinations and countries for location selector","security":[],"tags":["listing"],"operationId":"locationsPopular","parameters":[{"name":"type","in":"query","description":"Filter type (destinations|countries|all)","required":false,"schema":{"type":"string","enum":["destinations","countries","all"],"default":"all"}},{"name":"limit","in":"query","description":"Maximum number of results (default 20)","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"Successful popular locations retrieval","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/PopularLocations"},"meta":{"type":"object","properties":{"type":{"type":"string"},"cache_duration":{"type":"integer"}}}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/listings/locations/detect":{"post":{"summary":"Reverse geocode detected user location","description":"Detects user location via reverse geocoding with fallback","security":[],"tags":["listing"],"operationId":"locationsDetect","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}},"required":["latitude","longitude"]}}}},"responses":{"200":{"description":"Successful location detection","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/DetectedLocation"},"fallback":{"$ref":"#/components/schemas/LocationSearchResult"}}},"meta":{"type":"object","properties":{"detection_method":{"type":"string"},"processing_time_ms":{"type":"integer"}}}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid coordinates)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/bookings/heartbeat":{"get":{"summary":"Heartbeat","description":"Health check endpoint for the booking service.","tags":["booking"],"operationId":"bookingsHeartbeat","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Service is healthy","content":{"application/json":{"schema":{"type":"string","example":"OK"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/bookings":{"post":{"summary":"Book a stay","description":"Create a new booking for a listing.","tags":["booking"],"operationId":"bookingsCreateBooking","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"listing_id":{"type":"string"},"user_id":{"type":"string"},"check_in":{"type":"string","format":"date-time"},"check_out":{"type":"string","format":"date-time"},"guests":{"type":"integer","format":"int32","maxLength":3,"minimum":1}},"required":["listing_id","user_id","check_in","check_out","guests"]}}},"description":"The booking to create","required":true},"responses":{"201":{"description":"The created booking","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single booking object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Booking created successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid booking data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"The listing was not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"get":{"summary":"Get all bookings for the authenticated user (\"my bookings\")","description":"Returns all bookings belonging to the currently authenticated user. User ID is extracted from the JWT token. Use this endpoint for \"my bookings\" in the UI.","tags":["booking"],"operationId":"bookingsGetAllBookings","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}}],"responses":{"200":{"description":"All bookings for the authenticated user","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of bookings.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"array","description":"List of booking objects.","items":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"example":[{"id":"bkg_001","listing_id":"lst_101","user_id":"usr_201","check_in":"2025-06-01T14:00:00.000Z","check_out":"2025-06-05T11:00:00.000Z","amount":500,"rating":4.5,"days":4,"payment_id":"pay_001","status":"pending","guests":2}]},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","description":"Current page number","example":1},"limit":{"type":"integer","description":"Number of items per page","example":10},"total":{"type":"integer","description":"Total number of items","example":25},"pages":{"type":"integer","description":"Total number of pages","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Bookings retrieved successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/bookings/{id}":{"get":{"summary":"Get a booking","description":"Retrieve a booking by its ID.","tags":["booking"],"operationId":"bookingsGetBookingById","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Booking ID","required":true,"schema":{"type":"string","maxLength":32}}],"responses":{"200":{"description":"The booking","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single booking object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Booking created successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Booking not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/bookings/{id}/cancel":{"patch":{"summary":"Cancel a booking","description":"Cancel a booking by its ID.","tags":["booking"],"operationId":"bookingsCancelBookingById","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Booking ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"reason":{"type":"string","enum":["Change of travel plans","Guest asked to cancel","Guest did not show up","Guest did not have required payment","Accidental booking","Other"]}},"required":["reason"]}}},"description":"The booking to cancel","required":true},"responses":{"200":{"description":"Booking cancelled","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single booking object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Booking created successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID or state)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Booking not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/bookings/{id}/accept":{"patch":{"summary":"Accept a booking","description":"Accept a booking by its ID.","tags":["booking"],"operationId":"bookingsAcceptBookingById","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Booking ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Friendly message to the guest"}},"required":["message"]}}},"description":"The booking to accept","required":true},"responses":{"200":{"description":"Booking accepted","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single booking object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Booking created successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID or state)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Booking not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/bookings/{id}/reject":{"patch":{"summary":"Reject a booking","description":"Reject a booking by its ID.","tags":["booking"],"operationId":"bookingsRejectBookingById","x-google-backend":{"address":"https://booking-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Booking ID","required":true,"schema":{"type":"string","maxLength":32}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","maxLength":255},"reason":{"type":"string","maxLength":255,"enum":["Listing is no longer available","Going on vacation","Traveling for work","Guest is not a good fit","Other"]}},"required":["message","reason"]}}},"description":"The message to send to the user","required":true},"responses":{"200":{"description":"Booking rejected","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single booking object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string","example":"bkg_001"},"listing_id":{"type":"string","example":"lst_101"},"user_id":{"type":"string","example":"usr_201"},"check_in":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"check_out":{"type":"string","format":"date-time","example":"2025-06-05T11:00:00.000Z"},"amount":{"type":"number","format":"float","example":500},"rating":{"type":"number","format":"float","example":4.5},"days":{"type":"integer","example":4},"payment_id":{"type":"string","example":"pay_001"},"status":{"type":"string","enum":["pending","accepted","rejected","cancelled","completed","awaiting_payment"],"example":"pending"},"guests":{"type":"integer","example":2}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Booking created successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID or state)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Booking not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/reviews/heartbeat":{"get":{"summary":"Health check endpoint","description":"This endpoint is used to check the health status of the API service.\n","operationId":"getHeartbeat","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"tags":["review"],"security":[],"responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["healthy"]}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/reviews":{"get":{"summary":"Get reviews with filters (author, target, type, category, etc.)","description":"Retrieve a list of reviews filtered by author, target, type, category, listing, and pagination.\n","tags":["review"],"operationId":"listReviews","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"author","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by author user ID"},{"name":"target","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by target user or listing ID"},{"name":"type","in":"query","required":false,"schema":{"type":"string","enum":["user","listing"]},"description":"Filter by review type (user or listing)"},{"name":"category","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by review category (e.g., couchsurf, workspace)"},{"name":"listing_id","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by listing ID"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10}}],"responses":{"200":{"description":"List of reviews matching filters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}},"post":{"summary":"Create a new review (user or listing)","description":"Create a new review for a user or listing, specifying context, metrics, and other details.\n","tags":["review"],"operationId":"createReview","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewRequest"},"examples":{"guest_review_space":{"summary":"Guest reviews a space (listing)","value":{"author":"alice_user_id","target":"listing_bob_id","type":"listing","comment":"The room was clean and comfortable.","emoji_sentiment":"👍","metrics":{"cleanliness":5,"communication":4.5,"check_in":4,"accuracy":4.5,"location":4,"value":4.5},"context":"guest_review_space","booking_id":"booking_123"}},"guest_review_host":{"summary":"Guest reviews host","value":{"author":"alice_user_id","target":"bob_user_id","type":"user","comment":"Bob was a wonderful host!","emoji_sentiment":"👍","metrics":{"hospitality":5,"communication":4.5,"cleanliness":4.5,"respectfulness":5,"would_visit_again":true},"context":"guest_review_host","booking_id":"booking_123"}},"host_review_guest":{"summary":"Host reviews guest","value":{"author":"bob_user_id","target":"alice_user_id","type":"user","comment":"Alice was respectful and tidy.","emoji_sentiment":"👍","metrics":{"communication":4,"cleanliness":4.5,"respectfulness":4.5,"would_host_again":true},"context":"host_review_guest","booking_id":"booking_123"}}}}}},"responses":{"201":{"description":"The created review","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}}},"/reviews/{id}":{"get":{"summary":"Get a single review by ID","description":"Retrieve a single review by its unique ID.\n","tags":["review"],"operationId":"getReviewById","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Review ID"}],"responses":{"200":{"description":"The review","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"404":{"description":"Review not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}},"patch":{"summary":"Partially update a review (e.g., change comment, rating, etc.)","description":"Update fields of an existing review, such as comment, rating, or metrics.\n","tags":["review"],"operationId":"patchReview","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Review ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewUpdateRequest"}}}},"responses":{"200":{"description":"The updated review","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"404":{"description":"Review not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}},"delete":{"summary":"Delete a review","description":"Delete a review by its unique ID.\n","tags":["review"],"operationId":"deleteReview","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Review ID"}],"responses":{"200":{"description":"Review deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"404":{"description":"Review not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}}},"/reviews/{id}/report":{"post":{"summary":"Report an inappropriate review","description":"Report a review as inappropriate, misleading, spam, or offensive.\n","tags":["review"],"operationId":"reportReview","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Review ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportReviewRequest"}}}},"responses":{"200":{"description":"Review reported successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"404":{"description":"Review not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}}},"/reviews/{id}/respond":{"post":{"summary":"Respond to a review","description":"Add a response to a review as the target user or listing owner.\n","tags":["review"],"operationId":"respondToReview","x-google-backend":{"address":"https://review-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Review ID"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponseRequest"}}}},"responses":{"200":{"description":"Response added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"404":{"description":"Review not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultResponse"}}}}}}},"/wishlists/heartbeat":{"get":{"summary":"Wishlist service heartbeat","tags":["wishlist"],"operationId":"wishlistHeartbeat","x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"Heartbeat","content":{"application/json":{"schema":{"type":"string","example":"OK"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/wishlists":{"get":{"summary":"Get all listings in wishlist for the authenticated user","tags":["wishlist"],"operationId":"getAllListingsInWishlist","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"All listings in wishlist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"summary":"Add a single listing to wishlist for the authenticated user (optionally with tag)","tags":["wishlist"],"operationId":"addListingToWishlist","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddListingRequest"}}},"description":"Listing to add, with optional tag","required":true},"responses":{"201":{"description":"Listing added to wishlist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"summary":"Remove a single listing from wishlist","tags":["wishlist"],"operationId":"removeListingFromWishlist","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveListingRequest"}}},"description":"Listing to remove, with optional tag","required":true},"responses":{"200":{"description":"Listing removed from wishlist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"summary":"Move a single listing to a different tag","tags":["wishlist"],"operationId":"moveListingBetweenTags","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoveListingRequest"}}},"description":"Move a single listing between tags","required":true},"responses":{"200":{"description":"Listing moved to new tag","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/wishlists/tags":{"delete":{"summary":"Delete an entire tag and all its listings from wishlist","tags":["wishlist"],"operationId":"deleteTagFromWishlist","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://wishlist-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteTagRequest"}}},"description":"Tag to delete","required":true},"responses":{"200":{"description":"Tag deleted from wishlist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/heartbeat":{"get":{"summary":"Message service heartbeat","tags":["message"],"operationId":"messagesHeartbeat","x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Heartbeat"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages":{"get":{"summary":"Get all messages for the authenticated user","tags":["message"],"operationId":"messagesGetAllMessagesForCurrentUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","maximum":100,"default":10}}],"responses":{"200":{"description":"All messages for the authenticated user","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of messages.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"array","description":"List of message objects.","items":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"example":[{"id":"msg_001","listing_id":"lst_101","booking_id":"bkg_001","message":"Hello!","type":"guest","created_at":"2025-06-01T14:00:00.000Z","updated_at":"2025-06-01T14:00:00.000Z"}]},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","description":"Current page number","example":1},"limit":{"type":"integer","description":"Number of items per page","example":10},"total":{"type":"integer","description":"Total number of items","example":25},"pages":{"type":"integer","description":"Total number of pages","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Messages retrieved successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"post":{"summary":"Create a new message","tags":["message"],"operationId":"messagesCreateMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32}},"required":["message"]}}},"description":"The message to create","required":true},"responses":{"201":{"description":"The created message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}":{"get":{"summary":"Get a message","tags":["message"],"operationId":"messagesGetMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"A message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/read":{"patch":{"summary":"Mark a message as read","tags":["message"],"operationId":"messagesMarkMessageAsRead","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The read message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/unread":{"patch":{"summary":"Mark a message as unread","tags":["message"],"operationId":"messagesMarkMessageAsUnread","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The unread message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/archive":{"patch":{"summary":"Archive a message","tags":["message"],"operationId":"messagesArchiveMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The archived message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/heartbeat":{"get":{"summary":"Payment service heartbeat","tags":["payment"],"operationId":"paymentHeartbeat","x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Heartbeat"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/pay":{"post":{"summary":"Create a new payment","tags":["payment"],"operationId":"paymentCreatePayment","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"booking_id":{"type":"string"},"amount":{"type":"number","format":"double"},"currency":{"type":"string","maxLength":3},"payment_method":{"type":"string","maxLength":32},"payment_status":{"type":"string","maxLength":32},"payment_date":{"type":"string","format":"date-time"}}}}},"description":"The payment to create","required":true},"responses":{"201":{"description":"The created payment","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single payment object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Payment object for a booking transaction.","properties":{"id":{"type":"string","example":"pay_001"},"booking_id":{"type":"string","example":"bkg_001"},"amount":{"type":"number","example":100},"currency":{"type":"string","maxLength":3,"example":"USD"},"method":{"type":"string","maxLength":32,"example":"card"},"status":{"type":"string","maxLength":32,"example":"completed"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"receipt_url":{"type":"string","format":"uri","example":"https://example.com/receipt/pay_001.pdf"},"description":{"type":"string","example":"Payment for booking bkg_001"},"refunded":{"type":"boolean","example":false},"fee":{"type":"number","example":2.5},"payer_id":{"type":"string","example":"usr_201"}},"required":["id","booking_id","amount","currency","method","status","date","created_at","updated_at"]},"toast":{"type":"string","example":"Payment created successfully."},"error":{"type":"string","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/{id}":{"get":{"summary":"Get a payment","tags":["payment"],"operationId":"paymentGetPayment","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Payment ID","required":true,"schema":{"type":"string","maxLength":32}}],"responses":{"200":{"description":"A payment","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single payment object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Payment object for a booking transaction.","properties":{"id":{"type":"string","example":"pay_001"},"booking_id":{"type":"string","example":"bkg_001"},"amount":{"type":"number","example":100},"currency":{"type":"string","maxLength":3,"example":"USD"},"method":{"type":"string","maxLength":32,"example":"card"},"status":{"type":"string","maxLength":32,"example":"completed"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"receipt_url":{"type":"string","format":"uri","example":"https://example.com/receipt/pay_001.pdf"},"description":{"type":"string","example":"Payment for booking bkg_001"},"refunded":{"type":"boolean","example":false},"fee":{"type":"number","example":2.5},"payer_id":{"type":"string","example":"usr_201"}},"required":["id","booking_id","amount","currency","method","status","date","created_at","updated_at"]},"toast":{"type":"string","example":"Payment created successfully."},"error":{"type":"string","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/user/{id}/payment-methods":{"get":{"summary":"Get all payment methods for a user","tags":["payment"],"operationId":"paymentGetAllPaymentMethodsForUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^example-[0-9a-z]+$"}}],"responses":{"200":{"description":"All payment methods for a user","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of payment methods.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","description":"Payment method object for a user.","properties":{"id":{"type":"string","example":"pm_001"},"user_id":{"type":"string","example":"usr_201"},"method":{"type":"string","example":"card"},"type":{"type":"string","example":"credit"},"status":{"type":"string","example":"active"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"last4":{"type":"string","example":4242},"brand":{"type":"string","example":"Visa"},"exp_month":{"type":"integer","example":12},"exp_year":{"type":"integer","example":2027},"is_default":{"type":"boolean","example":true}},"required":["id","user_id","method","type","status","date","created_at","updated_at"]},"description":"List of payment methods."},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","example":"Payment methods retrieved successfully."},"error":{"type":"string","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"post":{"summary":"Create a new payment method for a user","tags":["payment"],"operationId":"paymentCreatePaymentMethodForUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^example-[0-9a-z]+$"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"user_id":{"type":"string"},"payment_method":{"type":"string","maxLength":32},"payment_method_type":{"type":"string","maxLength":32},"payment_method_status":{"type":"string","maxLength":32},"payment_method_date":{"type":"string","format":"date-time"}},"required":["user_id","payment_method"]}}},"description":"The payment method to create","required":true},"responses":{"201":{"description":"The created payment method","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single payment method object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Payment method object for a user.","properties":{"id":{"type":"string","example":"pm_001"},"user_id":{"type":"string","example":"usr_201"},"method":{"type":"string","example":"card"},"type":{"type":"string","example":"credit"},"status":{"type":"string","example":"active"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"last4":{"type":"string","example":4242},"brand":{"type":"string","example":"Visa"},"exp_month":{"type":"integer","example":12},"exp_year":{"type":"integer","example":2027},"is_default":{"type":"boolean","example":true}},"required":["id","user_id","method","type","status","date","created_at","updated_at"]},"toast":{"type":"string","example":"Payment method added successfully."},"error":{"type":"string","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/payment-methods":{"get":{"summary":"Get all available payment methods","tags":["payment"],"operationId":"paymentGetAllPaymentMethods","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"All available payment methods","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of payment methods.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","description":"Payment method object for a user.","properties":{"id":{"type":"string","example":"pm_001"},"user_id":{"type":"string","example":"usr_201"},"method":{"type":"string","example":"card"},"type":{"type":"string","example":"credit"},"status":{"type":"string","example":"active"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"last4":{"type":"string","example":4242},"brand":{"type":"string","example":"Visa"},"exp_month":{"type":"integer","example":12},"exp_year":{"type":"integer","example":2027},"is_default":{"type":"boolean","example":true}},"required":["id","user_id","method","type","status","date","created_at","updated_at"]},"description":"List of payment methods."},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","example":"Payment methods retrieved successfully."},"error":{"type":"string","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/payments/user/{id}/payments":{"get":{"summary":"Get all payments for a user","tags":["payment"],"operationId":"paymentGetAllPaymentsForUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://payment-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"string","maxLength":32}}],"responses":{"200":{"description":"All payments for a user","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of payments.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","description":"List of payment objects.","items":{"type":"object","description":"Payment object for a booking transaction.","properties":{"id":{"type":"string","example":"pay_001"},"booking_id":{"type":"string","example":"bkg_001"},"amount":{"type":"number","example":100},"currency":{"type":"string","maxLength":3,"example":"USD"},"method":{"type":"string","maxLength":32,"example":"card"},"status":{"type":"string","maxLength":32,"example":"completed"},"date":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"created_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","example":"2025-06-01T14:00:00.000Z"},"receipt_url":{"type":"string","format":"uri","example":"https://example.com/receipt/pay_001.pdf"},"description":{"type":"string","example":"Payment for booking bkg_001"},"refunded":{"type":"boolean","example":false},"fee":{"type":"number","example":2.5},"payer_id":{"type":"string","example":"usr_201"}},"required":["id","booking_id","amount","currency","method","status","date","created_at","updated_at"]}},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","example":"Payments retrieved successfully."},"error":{"type":"string","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/documents/heartbeat":{"get":{"summary":"Document service heartbeat","tags":["document"],"operationId":"documentsHeartbeat","x-google-backend":{"address":"https://document-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"Heartbeat","content":{"application/json":{"schema":{"type":"string","example":"OK"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}},"security":[]}},"/documents":{"get":{"summary":"Get all documents for the authenticated user","description":"Returns a paginated list of documents belonging to the currently authenticated user. User ID is extracted from the JWT token.","tags":["document"],"operationId":"documentsGetAllDocumentsForCurrentUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://document-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}}],"responses":{"200":{"description":"Paginated list of documents","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of documents.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","description":"List of document objects.","items":{"type":"object","description":"Represents a user-uploaded document.","properties":{"id":{"type":"string","description":"Unique document ID","example":"doc_12345"},"user_id":{"type":"string","description":"ID of the user who owns the document","example":"usr_201"},"type":{"type":"string","description":"Document type (see enum DocumentType)","example":"Listing"},"name":{"type":"string","description":"Name of the document","example":"passport.pdf"},"url":{"type":"string","format":"uri","description":"Publicly accessible URL for the document","example":"https://cdn.example.com/docs/passport.pdf"},"created_at":{"type":"string","format":"date-time","description":"Document creation timestamp","example":"2025-06-08T12:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","description":"Last update timestamp","example":"2025-06-08T12:00:00.000Z"}},"required":["id","user_id","type","name","url","created_at","updated_at"]}},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","example":1},"limit":{"type":"integer","example":10},"total":{"type":"integer","example":25},"pages":{"type":"integer","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","example":"Documents retrieved successfully."},"error":{"type":"string","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"post":{"summary":"Create a new document see enum DocumentType for valid types","tags":["document"],"operationId":"documentsCreateDocument","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://document-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","enum":["Listing","Avatar","Verification","Report","Messaging"],"description":"The type of document request. Must be one of the specified values."},"user_id":{"type":"string","description":"The user's ID."},"documents":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the document."},"name":{"type":"string","description":"The name of the document."}}}}},"required":["type","user_id","documents"]}}},"description":"The document to create","required":true},"responses":{"201":{"description":"The created document","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single document object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Represents a user-uploaded document.","properties":{"id":{"type":"string","description":"Unique document ID","example":"doc_12345"},"user_id":{"type":"string","description":"ID of the user who owns the document","example":"usr_201"},"type":{"type":"string","description":"Document type (see enum DocumentType)","example":"Listing"},"name":{"type":"string","description":"Name of the document","example":"passport.pdf"},"url":{"type":"string","format":"uri","description":"Publicly accessible URL for the document","example":"https://cdn.example.com/docs/passport.pdf"},"created_at":{"type":"string","format":"date-time","description":"Document creation timestamp","example":"2025-06-08T12:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","description":"Last update timestamp","example":"2025-06-08T12:00:00.000Z"}},"required":["id","user_id","type","name","url","created_at","updated_at"]},"toast":{"type":"string","example":"Document uploaded successfully."},"error":{"type":"string","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/documents/{id}":{"delete":{"summary":"Delete a document","tags":["document"],"operationId":"documentsDeleteDocument","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://document-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Document ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"204":{"description":"Document deleted","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"put":{"summary":"Overwrite a document","tags":["document"],"operationId":"documentsOverwriteDocument","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://document-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Document ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The overwritten document","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single document object.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","description":"Represents a user-uploaded document.","properties":{"id":{"type":"string","description":"Unique document ID","example":"doc_12345"},"user_id":{"type":"string","description":"ID of the user who owns the document","example":"usr_201"},"type":{"type":"string","description":"Document type (see enum DocumentType)","example":"Listing"},"name":{"type":"string","description":"Name of the document","example":"passport.pdf"},"url":{"type":"string","format":"uri","description":"Publicly accessible URL for the document","example":"https://cdn.example.com/docs/passport.pdf"},"created_at":{"type":"string","format":"date-time","description":"Document creation timestamp","example":"2025-06-08T12:00:00.000Z"},"updated_at":{"type":"string","format":"date-time","description":"Last update timestamp","example":"2025-06-08T12:00:00.000Z"}},"required":["id","user_id","type","name","url","created_at","updated_at"]},"toast":{"type":"string","example":"Document uploaded successfully."},"error":{"type":"string","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}}},"components":{"schemas":{"EnhancedProfileUpdateRequest":{"type":"object","properties":{"basic_info":{"type":"object","properties":{"first_name":{"type":"string","maxLength":50},"last_name":{"type":"string","maxLength":50},"bio":{"type":"string","maxLength":500},"avatar_url":{"type":"string","format":"uri"},"birthday":{"type":"string","format":"date-time"},"age_range":{"type":"string","enum":["18_24","25_34","35_44","45_54","55_64","65_plus"]},"gender":{"type":"string","enum":["male","female","lgbtq","other","prefer_not_to_say"]},"city":{"type":"string","maxLength":100},"country":{"type":"string","maxLength":100},"occupation":{"type":"string","maxLength":100}}},"lifestyle":{"type":"object","properties":{"sleep_schedule":{"type":"string","enum":["early_bird","night_owl","flexible","varies"]},"social_style":{"type":"string","enum":["social_butterfly","prefer_quiet","balanced","depends_on_mood"]},"smoking_preference":{"type":"string","enum":["non_smoker","occasional_smoker","regular_smoker","vaping_only","no_preference"]}}},"travel_experience":{"type":"object","properties":{"amazing_experience":{"type":"string","maxLength":500},"countries_visited":{"type":"array","items":{"type":"string","maxLength":50},"maxItems":50},"last_country_visited":{"type":"string","maxLength":50},"travel_frequency":{"type":"string","enum":["weekly","monthly","quarterly","yearly","rarely"]}}},"interests_hobbies":{"type":"object","properties":{"hobbies":{"type":"array","items":{"type":"string","maxLength":50},"maxItems":10},"interests":{"type":"array","items":{"type":"string","maxLength":50},"maxItems":10},"languages_spoken":{"type":"array","items":{"type":"string","maxLength":30},"maxItems":10},"languages_learning":{"type":"array","items":{"type":"string","maxLength":30},"maxItems":10}}},"personal":{"type":"object","properties":{"fun_fact":{"type":"string","maxLength":300},"why_host_travel":{"type":"string","maxLength":500}}},"hosting_preferences":{"type":"object","properties":{"preferred_guest_age_range":{"type":"array","items":{"type":"string","enum":["18_24","25_34","35_44","45_54","55_64","65_plus"]}},"accepts_pets":{"type":"boolean"},"house_rules":{"type":"array","items":{"type":"string","maxLength":100},"maxItems":10},"space_type":{"type":"string","enum":["private_room","shared_room","entire_place","common_area"]}}},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"coordinates":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}}}}}}},"EnhancedUserProfileResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"basic_info":{"type":"object","properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string","format":"email"},"phone":{"type":"string"},"avatar_url":{"type":"string","format":"uri"},"bio":{"type":"string"},"birthday":{"type":"string","format":"date-time"},"age_range":{"type":"string"},"gender":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"occupation":{"type":"string"},"registration_method":{"type":"string"}}},"lifestyle":{"type":"object","properties":{"sleep_schedule":{"type":"string"},"social_style":{"type":"string"},"smoking_preference":{"type":"string"}}},"travel_experience":{"type":"object","properties":{"amazing_experience":{"type":"string"},"countries_visited":{"type":"array","items":{"type":"string"}},"last_country_visited":{"type":"string"},"travel_frequency":{"type":"string"}}},"interests_hobbies":{"type":"object","properties":{"hobbies":{"type":"array","items":{"type":"string"}},"interests":{"type":"array","items":{"type":"string"}},"languages_spoken":{"type":"array","items":{"type":"string"}},"languages_learning":{"type":"array","items":{"type":"string"}}}},"personal":{"type":"object","properties":{"fun_fact":{"type":"string"},"why_host_travel":{"type":"string"}}},"hosting_preferences":{"type":"object","properties":{"preferred_guest_age_range":{"type":"array","items":{"type":"string"}},"accepts_pets":{"type":"boolean"},"house_rules":{"type":"array","items":{"type":"string"}},"space_type":{"type":"string"}}},"address":{"type":"object"},"contacts":{"type":"array","items":{"type":"object"}},"verifications":{"type":"array","items":{"type":"object"}},"badges":{"type":"object","properties":{"earned_badges":{"type":"array","items":{"type":"object"}},"badge_counts":{"type":"object"}}},"events":{"type":"array","items":{"type":"object"}},"system_info":{"type":"object","properties":{"fcm_token":{"type":"string"},"status":{"type":"string"},"deleted":{"type":"boolean"},"deleted_at":{"type":"string","format":"date-time"},"roles":{"type":"array","items":{"type":"string"}},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}}}},"toast":{"type":"string","example":"Enhanced user profile retrieved successfully."},"error":{"type":"string"}},"required":["success","data"]},"Listing":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double"},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}},"required":["id","title","description","status","location","price","thumbnail","created_at","max_guests","instant_book","amenities","cancellation_policy","category","photos","host","house_rules","updated_at"]},"ErrorResponse":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid request parameters.","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"object"}},"required":["code","message"]},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please check your input and try again."},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"request_id":{"type":"string"}}}},"required":["success","error"]},"LocationSearchResult":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"country":{"type":"string"},"country_code":{"type":"string"},"type":{"type":"string","enum":["city","country","region"]},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"popularity_score":{"type":"number","format":"double"}},"required":["id","name","country","country_code","type"]},"PopularLocations":{"type":"object","properties":{"destinations":{"type":"array","items":{"$ref":"#/components/schemas/LocationSearchResult"}},"countries":{"type":"array","items":{"$ref":"#/components/schemas/LocationSearchResult"}}},"required":["destinations","countries"]},"DetectedLocation":{"type":"object","properties":{"city":{"type":"string"},"country":{"type":"string"},"country_code":{"type":"string"},"region":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"accuracy":{"type":"string","enum":["high","medium","low"]},"confidence_score":{"type":"number","format":"double","minimum":0,"maximum":1}},"required":["city","country","country_code","latitude","longitude","accuracy"]},"Review":{"type":"object","properties":{"id":{"type":"string"},"author":{"type":"string","description":"The user writing the review"},"target":{"type":"string","description":"The user or listing being reviewed"},"type":{"type":"string","enum":["user","listing"],"description":"Type of entity being reviewed"},"category":{"type":"string"},"overall_rating":{"type":"number"},"comment":{"type":"string"},"emoji_sentiment":{"type":"string"},"metrics":{"type":"object","additionalProperties":true},"booking_id":{"type":"string"},"listing_id":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"status":{"type":"string"},"version":{"type":"integer"},"edit_history":{"type":"array","items":{"$ref":"#/components/schemas/ReviewEdit"}}},"required":["id","author","target","type","metrics","created_at","updated_at","status","version","edit_history"]},"GuestReviewSpaceMetrics":{"type":"object","required":["cleanliness","communication","check_in","accuracy","location","value"],"properties":{"cleanliness":{"type":"number"},"communication":{"type":"number"},"check_in":{"type":"number"},"accuracy":{"type":"number"},"location":{"type":"number"},"value":{"type":"number"}}},"GuestReviewHostMetrics":{"type":"object","required":["hospitality","communication","cleanliness","respectfulness","would_visit_again"],"properties":{"hospitality":{"type":"number"},"communication":{"type":"number"},"cleanliness":{"type":"number"},"respectfulness":{"type":"number"},"would_visit_again":{"type":"boolean"}}},"HostReviewGuestMetrics":{"type":"object","required":["communication","cleanliness","respectfulness","would_host_again"],"properties":{"communication":{"type":"number"},"cleanliness":{"type":"number"},"respectfulness":{"type":"number"},"would_host_again":{"type":"boolean"}}},"ReviewRequest":{"type":"object","required":["author","target","type","metrics","context","booking_id"],"properties":{"author":{"type":"string","description":"The user writing the review"},"target":{"type":"string","description":"The user or listing being reviewed"},"type":{"type":"string","enum":["user","listing"],"description":"Type of entity being reviewed"},"comment":{"type":"string","maxLength":1000},"emoji_sentiment":{"type":"string","enum":["👍","👍👍","👎"],"description":"Optional quick sentiment indicator"},"metrics":{"description":"Category-specific metrics (flexible)","oneOf":[{"$ref":"#/components/schemas/GuestReviewSpaceMetrics"},{"$ref":"#/components/schemas/GuestReviewHostMetrics"},{"$ref":"#/components/schemas/HostReviewGuestMetrics"}]},"context":{"type":"string","enum":["host_review_guest","guest_review_host","guest_review_space"],"description":"Explicit review context to distinguish scenario (e.g., host_review_guest, guest_review_host, guest_review_space)"},"booking_id":{"type":"string","description":"Associated booking ID if applicable"}}},"ReviewUpdateRequest":{"type":"object","properties":{"comment":{"type":"string","maxLength":1000},"emoji_sentiment":{"type":"string","enum":["👍","👍👍","👎"]},"metrics":{"type":"object","description":"Category-specific metrics (flexible)","additionalProperties":true}}},"ReviewEdit":{"type":"object","properties":{"version":{"type":"integer"},"updated_at":{"type":"string","format":"date-time"},"changes":{"type":"object","additionalProperties":true}},"required":["version","updated_at","changes"]},"ReportReviewRequest":{"type":"object","required":["reason","reported_by"],"properties":{"reason":{"type":"string","enum":["INAPPROPRIATE","MISLEADING","SPAM","OFFENSIVE","OTHER"]},"details":{"type":"string","maxLength":500,"description":"Additional details about the report"},"reported_by":{"type":"string","description":"User ID of the person reporting the review"}}},"ReviewResponseRequest":{"type":"object","required":["comment"],"properties":{"comment":{"type":"string","maxLength":1000,"description":"The response text"}}},"APIResponse":{"type":"object","description":"Standard API response for wishlist grouped by tag.","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","description":"List of tags and their listings","items":{"type":"object","properties":{"tag":{"type":"string","example":"vegas"},"listings":{"type":"array","items":{"type":"object","properties":{"listing_id":{"type":"string"},"thumbnail":{"type":"string","format":"uri"}},"required":["listing_id"]}}}},"oneOf":[{"$ref":"#/components/schemas/Review"},{"type":"array","items":{"$ref":"#/components/schemas/Review"}}]},"error":{"type":"string","example":""},"toast":{"type":"string","example":"Wishlist updated successfully."}},"required":["success","data"]},"DefaultResponse":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"string"},"toast":{"type":"string","maxLength":255}},"required":["success","toast"]},"AddListingRequest":{"type":"object","properties":{"tag":{"type":"string","maxLength":32,"example":"vegas"},"listing":{"type":"object","properties":{"listing_id":{"type":"string"},"thumbnail":{"type":"string","format":"uri"}},"required":["listing_id"]}},"required":["listing"]},"RemoveListingRequest":{"type":"object","properties":{"tag":{"type":"string","maxLength":32,"example":"vegas"},"listing_id":{"type":"string","example":"listing_123"}},"required":["listing_id"]},"MoveListingRequest":{"type":"object","properties":{"from_tag":{"type":"string","maxLength":32,"example":"vegas"},"to_tag":{"type":"string","maxLength":32,"example":"california"},"listing_id":{"type":"string","example":"listing_123"}},"required":["from_tag","to_tag","listing_id"]},"DeleteTagRequest":{"type":"object","properties":{"tag":{"type":"string","maxLength":32,"example":"old_trip"}},"required":["tag"]}},"securitySchemes":{"jwtAuth":{"type":"apiKey","name":"Authorization","in":"header"},"googleApiKey":{"type":"apiKey","name":"api_key","in":"header"}}},"x-last-generated":"2025-09-06T11:07:35.417Z"};
    const ui = SwaggerUIBundle({ spec, dom_id: '#swagger-ui' });
  </script>
</body>
</html>