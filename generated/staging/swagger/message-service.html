<!DOCTYPE html>
<html>
<head>
  <title>Swagger UI</title>
  <link rel="stylesheet" type="text/css" href="../../../assets/swagger-ui.css">
</head>
<body>
  <div id="swagger-ui"></div>
  <script src="../../../assets/swagger-ui-bundle.js"></script>
  <script>
    const spec = {"openapi":"3.0.0","info":{"title":"Project X - Message Service API","description":"API specification for the Message service of Project X","version":"1.0.0","contact":{"name":"project-x-api","url":"https://www.inspiredtech.ca","email":"info@aircouch.com"},"termsOfService":"https://www.inspiredtech.ca/terms","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"tags":[{"name":"message","description":"Message operations"}],"paths":{"/messages/heartbeat":{"get":{"summary":"Message service heartbeat","tags":["message"],"operationId":"messagesHeartbeat","x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Heartbeat"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages":{"get":{"summary":"Get all messages for the authenticated user","tags":["message"],"operationId":"messagesGetAllMessagesForCurrentUser","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","maximum":100,"default":10}}],"responses":{"200":{"description":"All messages for the authenticated user","content":{"application/json":{"schema":{"type":"object","description":"Paginated response containing a list of messages.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"array","description":"List of message objects.","items":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"example":[{"id":"msg_001","listing_id":"lst_101","booking_id":"bkg_001","message":"Hello!","type":"guest","created_at":"2025-06-01T14:00:00.000Z","updated_at":"2025-06-01T14:00:00.000Z"}]},"meta":{"type":"object","description":"Pagination metadata.","properties":{"page":{"type":"integer","description":"Current page number","example":1},"limit":{"type":"integer","description":"Number of items per page","example":10},"total":{"type":"integer","description":"Total number of items","example":25},"pages":{"type":"integer","description":"Total number of pages","example":3}},"required":["page","limit","total","pages"]},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Messages retrieved successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"post":{"summary":"Create a new message","tags":["message"],"operationId":"messagesCreateMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32}},"required":["message"]}}},"description":"The message to create","required":true},"responses":{"201":{"description":"The created message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}":{"get":{"summary":"Get a message","tags":["message"],"operationId":"messagesGetMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"A message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/read":{"patch":{"summary":"Mark a message as read","tags":["message"],"operationId":"messagesMarkMessageAsRead","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The read message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/unread":{"patch":{"summary":"Mark a message as unread","tags":["message"],"operationId":"messagesMarkMessageAsUnread","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The unread message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/messages/{id}/archive":{"patch":{"summary":"Archive a message","tags":["message"],"operationId":"messagesArchiveMessage","security":[{"jwtAuth":[]}],"x-google-backend":{"address":"https://message-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"parameters":[{"name":"id","in":"path","description":"Message ID","required":true,"schema":{"type":"string","maxLength":32,"pattern":"^[a-zA-Z0-9]*$"}}],"responses":{"200":{"description":"The archived message","content":{"application/json":{"schema":{"type":"object","description":"Response containing a single message object.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":true},"data":{"type":"object","properties":{"id":{"type":"string"},"listing_id":{"type":"string"},"booking_id":{"type":"string"},"message":{"type":"string"},"type":{"type":"string","maxLength":32},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"}}},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Message sent successfully."},"error":{"type":"string","description":"Error message, if any.","example":null}},"required":["success","data"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}}},"servers":[{"url":"https://project-x-staging-gateway-8ua0taf7.uc.gateway.dev/api/v1"}],"components":{"securitySchemes":{"jwtAuth":{"type":"apiKey","name":"Authorization","in":"header"},"googleApiKey":{"type":"apiKey","name":"api_key","in":"header"}}},"x-last-generated":"2025-08-25T18:08:07.578Z"};
    const ui = SwaggerUIBundle({ spec, dom_id: '#swagger-ui' });
  </script>
</body>
</html>