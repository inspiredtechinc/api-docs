<!DOCTYPE html>
<html>
<head>
  <title>Swagger UI</title>
  <link rel="stylesheet" type="text/css" href="../../../assets/swagger-ui.css">
</head>
<body>
  <div id="swagger-ui"></div>
  <script src="../../../assets/swagger-ui-bundle.js"></script>
  <script>
    const spec = {"openapi":"3.0.0","info":{"title":"Project X - Listing Service API","description":"API specification for the Listing service of Project X","version":"1.0.0","contact":{"name":"project-x-api","url":"https://www.inspiredtech.ca","email":"info@aircouch.com"},"termsOfService":"https://www.inspiredtech.ca/terms","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"tags":[{"name":"listing","description":"Listing operations"}],"paths":{"/listings/heartbeat":{"get":{"summary":"Heartbeat","description":"Returns a simple heartbeat response to verify the Listing service is running.","tags":["listing"],"operationId":"listingsHeartbeat","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[],"responses":{"200":{"description":"Heartbeat","content":{"application/json":{"schema":{"type":"string"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings":{"post":{"description":"Create a new listing with full validation. This endpoint is used for publishing final listings and can also be called automatically when a draft listing status changes from 'pending' to 'active' after review approval.","summary":"Create a new listing (publish)","tags":["listing"],"operationId":"listingsCreateListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"thumbnail":{"type":"string","format":"uri"},"max_guests":{"type":"integer","format":"int32"},"instant_book":{"type":"boolean"},"photos":{"type":"array","items":{"type":"string","format":"uri","minimum":3},"maxItems":10},"host":{"type":"object","properties":{"id":{"type":"string"}}},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"]},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","enum":["couch_surfing","co_working","storages","meeting_room","kitchen","retail_space","classroom","lounge","shower","studio","playroom","charging_station","relax","nightlife","ride_share","cleaning","bike_rentals"],"example":"couch_surfing"}},"required":["title","description","price","thumbnail","max_guests","instant_book","photos","host","amenities","house_rules","cancellation_policy","address","category_code"]}}},"description":"The listing to create","required":true},"responses":{"201":{"description":"The created listing","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid listing data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"get":{"summary":"Get all listings","description":"Returns a paginated list of all listings, with optional filters for location and pagination.","tags":["listing"],"operationId":"listingsGetAllListings","security":[],"parameters":[{"name":"latitude","in":"query","description":"Latitude of the user's location","required":false,"schema":{"type":"number","format":"double"}},{"name":"longitude","in":"query","description":"Longitude of the user's location","required":false,"schema":{"type":"number","format":"double"}},{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}}],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"All listings","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double"},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}}}},"meta":{"type":"object","properties":{"page":{"type":"integer","description":"Current page number"},"limit":{"type":"integer","description":"Number of items per page"},"total":{"type":"integer","description":"Total number of items"},"pages":{"type":"integer","description":"Total number of pages"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/address":{"get":{"summary":"Address auto complete","description":"Returns a list of address suggestions based on the user's query and location. Useful for implementing address autocomplete features in the UI.\n","tags":["listing"],"operationId":"listingsAddressAutoComplete","security":[{"jwtAuth":[]}],"parameters":[{"name":"q","in":"query","description":"Address to search for (partial or full address string)","required":true,"schema":{"type":"string"}},{"name":"lat","in":"query","description":"Latitude of the user's location (for proximity ranking)","required":true,"schema":{"type":"number","format":"double"}},{"name":"lon","in":"query","description":"Longitude of the user's location (for proximity ranking)","required":true,"schema":{"type":"number","format":"double"}}],"x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"responses":{"200":{"description":"Address suggestions","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"type":"object","properties":{"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"description":{"type":"string"},"place_id":{"type":"string"}},"required":["address","description","place_id"]}},"meta":{"type":"object","properties":{"total":{"type":"integer","description":"Total number of suggestions"}},"required":["total"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid query)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/drafts":{"post":{"summary":"Save listing draft","description":"Save a listing draft with minimal validation. Allows users to save incomplete listing data that can be completed later. The status will be automatically set to 'draft'.","tags":["listing"],"operationId":"listingsCreateDraft","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Title of the listing (required for drafts)","maxLength":64},"description":{"type":"string","description":"Description of the listing"},"price":{"type":"number","format":"double","minimum":0,"description":"Price per hour/day"},"thumbnail":{"type":"string","format":"uri","description":"Main thumbnail image URL"},"max_guests":{"type":"integer","format":"int32","minimum":1,"description":"Maximum number of guests"},"instant_book":{"type":"boolean","description":"Whether instant booking is enabled"},"photos":{"type":"array","items":{"type":"string","format":"uri"},"maxItems":10,"description":"Array of photo URLs (minimum 3 required for publishing)"},"host":{"type":"object","properties":{"id":{"type":"string"}},"description":"Host information"},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20,"description":"List of available amenities"},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5,"description":"House rules for guests"},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"],"description":"Cancellation policy"},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"description":"Address information (partial acceptable for drafts)"},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","enum":["couch_surfing","co_working","storages","meeting_room","kitchen","retail_space","classroom","lounge","shower","studio","playroom","charging_station","relax","nightlife","ride_share","cleaning","bike_rentals"],"description":"Category of the listing"}},"required":["title"],"additionalProperties":false}}},"description":"The listing draft data. Only title is required, all other fields are optional for drafts.","required":true},"responses":{"201":{"description":"Draft saved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"toast":{"type":"string","example":"Draft saved successfully"},"data":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the listing"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified","default":false},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing (will always be 'draft' for this endpoint)","enum":["draft"],"default":"draft"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}},"nullable":true},"price":{"type":"number","format":"double","minimum":0,"nullable":true},"available":{"type":"boolean","default":true},"thumbnail":{"type":"string","format":"uri","nullable":true},"distance":{"type":"number","format":"double","nullable":true},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32","nullable":true},"rating":{"type":"number","format":"double","default":0},"instant_book":{"type":"boolean","nullable":true},"active":{"type":"boolean","default":false},"amenities":{"type":"array","items":{"type":"string"},"default":[]},"cancellation_policy":{"type":"string","nullable":true},"category":{"type":"object","nullable":true},"photos":{"type":"array","items":{"type":"string","format":"uri"},"default":[]},"host":{"type":"object","nullable":true},"house_rules":{"type":"array","items":{"type":"string"},"default":[]},"updated_at":{"type":"string","format":"date-time"}},"required":["id","title","status","created_at","updated_at"]}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid draft data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Title is required for draft listings."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please provide a title for your listing."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid or missing authentication token."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please log in to continue."}},"required":["success","error"]}}}},"422":{"description":"Validation error","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Validation failed: title must be at least 1 character long."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please check your input and try again."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Something went wrong. Please try again."}},"required":["success","error"]}}}}}},"put":{"summary":"Update listing draft","description":"Update an existing draft listing. Only drafts can be updated through this endpoint. To publish a draft, use the main POST /listings endpoint.","tags":["listing"],"operationId":"listingsUpdateDraft","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"query","description":"Draft listing ID to update","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Title of the listing","maxLength":64},"description":{"type":"string","description":"Description of the listing"},"price":{"type":"number","format":"double","minimum":0,"description":"Price per hour/day"},"thumbnail":{"type":"string","format":"uri","description":"Main thumbnail image URL"},"max_guests":{"type":"integer","format":"int32","minimum":1,"description":"Maximum number of guests"},"instant_book":{"type":"boolean","description":"Whether instant booking is enabled"},"photos":{"type":"array","items":{"type":"string","format":"uri"},"maxItems":10,"description":"Array of photo URLs"},"host":{"type":"object","properties":{"id":{"type":"string"}},"description":"Host information"},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20,"description":"List of available amenities"},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5,"description":"House rules for guests"},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"],"description":"Cancellation policy"},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"description":"Address information"},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category_code":{"type":"string","enum":["couch_surfing","co_working","storages","meeting_room","kitchen","retail_space","classroom","lounge","shower","studio","playroom","charging_station","relax","nightlife","ride_share","cleaning","bike_rentals"],"description":"Category of the listing"}},"additionalProperties":false}}},"description":"The updated listing draft data. All fields are optional.","required":true},"responses":{"200":{"description":"Draft updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"toast":{"type":"string","example":"Draft updated successfully"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}},"nullable":true},"price":{"type":"number","format":"double","minimum":0,"nullable":true},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri","nullable":true},"distance":{"type":"number","format":"double","nullable":true},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32","nullable":true},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean","nullable":true},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string","nullable":true},"category":{"type":"object","nullable":true},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object","nullable":true},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}},"required":["id","status","created_at","updated_at"]}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid data or listing is not a draft)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Cannot update listing: not a draft or invalid data."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Only draft listings can be updated through this endpoint."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid or missing authentication token."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Please log in to continue."}},"required":["success","error"]}}}},"404":{"description":"Draft listing not found or user doesn't have access","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Draft listing not found or access denied."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Draft listing not found."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"An unexpected error occurred."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Something went wrong. Please try again."}},"required":["success","error"]}}}}}}},"/listings/{id}":{"get":{"summary":"Get a listing","description":"Returns the details of a single listing by its ID.","tags":["listing"],"operationId":"listingsGetListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"The listing","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"put":{"summary":"Update a listing","description":"Updates the details of an existing listing by its ID.","tags":["listing"],"operationId":"listingsUpdateListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"thumbnail":{"type":"string","format":"uri"},"max_guests":{"type":"integer","format":"int32"},"instant_book":{"type":"boolean"},"photos":{"type":"array","items":{"type":"string","format":"uri","minimum":3},"maxItems":10},"host":{"type":"object","properties":{"id":{"type":"string"},"first_name":{"type":"string"},"avatar":{"type":"string","format":"uri"},"gender":{"type":"string"},"rating":{"type":"number","format":"double"}}},"amenities":{"type":"array","items":{"type":"string"},"maxLength":20},"house_rules":{"type":"array","items":{"type":"string"},"maxLength":5},"cancellation_policy":{"type":"string","enum":["No refunds","50% - 50% refund","100% - Full Refund"]},"address":{"type":"object","properties":{"street":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"province":{"type":"string"},"unit_number":{"type":"string"},"flag":{"type":"string"}},"required":["street","city","country","postal_code"]},"baggage_drop":{"type":"boolean","description":"Baggage drop allowed by host so guests can drop off their bags first while they explore the city.","default":false},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}},"required":["title","description","price","thumbnail","max_guests","instant_book","photos","host","amenities","house_rules","cancellation_policy","address","category"]}}},"description":"The listing to update","required":true},"responses":{"200":{"description":"Listing updated","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","maxLength":64},"description":{"type":"string"},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double","minimum":10},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object"},"photos":{"type":"array","items":{"type":"string","format":"uri"}},"host":{"type":"object"},"house_rules":{"type":"array","items":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID or data)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}},"delete":{"summary":"Delete a listing","description":"Deletes a listing by its ID.","tags":["listing"],"operationId":"listingsDeleteListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Listing deleted","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"id":{"type":"string","description":"The ID of the deleted listing"}},"required":["success","id"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/{id}/weather":{"get":{"summary":"Get weather for a listing","description":"Returns the current weather and forecast for the specified listing location.","tags":["listing"],"operationId":"listingsGetListingWeather","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Return the listing weather","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"string","example":"listing_123"},"latitude":{"type":"number","format":"float","example":40.7128},"longitude":{"type":"number","format":"float","example":-74.006},"timezone":{"type":"string","example":"Toronto/Ontario"},"current":{"type":"object","properties":{"date":{"type":"integer","format":"int64","example":1721253600},"humidity":{"type":"integer","example":65,"description":"Percentage (%)"},"wind_speed":{"type":"number","format":"float","example":13,"description":"km/h"},"feels_like":{"type":"number","format":"float","example":299.15,"description":"Celsius"},"temp":{"type":"number","format":"float","example":297.15,"description":"Celsius"},"visibility":{"type":"integer","example":10000,"description":"Meters"},"air_quality":{"type":"integer","example":36}}},"weather-forecast":{"type":"array","items":{"type":"object","properties":{"date":{"type":"integer","format":"int64","example":1750128000},"temp":{"type":"number","format":"float","example":297.15}}}}}}},"required":["success","data"]}}}},"400":{"description":"Bad request (invalid ID)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/user":{"get":{"summary":"Get all listings for the authenticated user (\"my listings\")","description":"Returns all listings belonging to the currently authenticated user. User ID is extracted from the JWT token. Use this endpoint for \"my listings\" in the UI.","tags":["listing"],"operationId":"listingsGetAllListingsForCurrentUser","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"page","in":"query","description":"Page number (starts at 1)","required":false,"schema":{"type":"integer","minimum":1,"default":1}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":10}},{"name":"status","in":"query","description":"Filter listings by status. If not provided, returns all statuses.","required":false,"schema":{"type":"string","enum":["draft","pending","active","paused","archived","deleted"]}}],"responses":{"200":{"description":"All listings for the authenticated user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"price":{"type":"number","format":"double"},"available":{"type":"boolean"},"thumbnail":{"type":"string","format":"uri"},"distance":{"type":"number","format":"double"},"created_at":{"type":"string","format":"date-time"},"max_guests":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"active":{"type":"boolean"},"amenities":{"type":"array","items":{"type":"string"}},"cancellation_policy":{"type":"string"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"}}}}}},"meta":{"type":"object","properties":{"page":{"type":"integer","description":"Current page number"},"limit":{"type":"integer","description":"Number of items per page"},"total":{"type":"integer","description":"Total number of items"},"pages":{"type":"integer","description":"Total number of pages"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid parameters)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/search":{"post":{"summary":"Search listings","description":"Searches for listings based on location, dates, guests, price, and other filters.","tags":["listing"],"operationId":"listingsSearchListings","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"city":{"type":"string"},"country":{"type":"string"}}},"start_date":{"type":"string","format":"date-time"},"end_date":{"type":"string","format":"date-time"},"guests":{"type":"integer","format":"int32"},"price_min":{"type":"number","format":"double"},"price_max":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"category":{"type":"string"},"keywords":{"type":"string"},"gender":{"type":"string","description":"Filter by host gender"},"page":{"type":"integer","format":"int32"},"limit":{"type":"integer","format":"int32"}}}}},"description":"Search criteria (location, dates, guests, price, instant_book, category, keywords, gender, etc.)","required":true},"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"price":{"type":"number","format":"double"},"verified":{"type":"boolean","description":"Indicates if the listing has been verified"},"deleted_at":{"type":"string","format":"date-time","nullable":true,"description":"Timestamp when listing was soft deleted"},"status":{"type":"string","description":"Current status of the listing","enum":["draft","pending","active","paused","archived","deleted"]},"location":{"type":"object","properties":{"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"thumbnail":{"type":"string","format":"uri"},"rating":{"type":"number","format":"double"},"category":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"}}},"available":{"type":"boolean"},"distance":{"type":"number","format":"double"},"instant_book":{"type":"boolean"},"short_description":{"type":"string"}},"required":["id","title","price","location","thumbnail","available"]}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"pages":{"type":"integer"}},"required":["page","limit","total","pages"]}},"required":["success","data","meta"]}}}},"400":{"description":"Bad request (invalid search)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}},"/listings/{id}/report":{"post":{"summary":"Report a listing","description":"Allows a user to report a listing for inappropriate or incorrect content.","tags":["listing"],"operationId":"listingsReportListing","x-google-backend":{"address":"https://listing-service-ee3nwblsmq-uc.a.run.app","path_translation":"APPEND_PATH_TO_ADDRESS"},"security":[{"jwtAuth":[]}],"parameters":[{"name":"id","in":"path","description":"Listing ID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["reason","reported_by"],"properties":{"reason":{"type":"string","enum":["INAPPROPRIATE","MISLEADING","SPAM","OFFENSIVE","OTHER"]},"details":{"type":"string","maxLength":500,"description":"Additional details about the report"},"reported_by":{"type":"string","description":"User ID of the person reporting the listing"}}}}},"description":"The report to create","required":true},"responses":{"201":{"description":"Listing reported","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"toast":{"type":"string"},"report_id":{"type":"string","description":"The ID of the created report"}},"required":["success","report_id"]}}}},"400":{"description":"Bad request (invalid ID or report)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"401":{"description":"Unauthorized (missing or invalid token)","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"404":{"description":"Listing not found","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}},"default":{"description":"Default error response","content":{"application/json":{"schema":{"type":"object","description":"Standard error response model for failed requests.","properties":{"success":{"type":"boolean","description":"Indicates if the request was successful.","example":false},"error":{"type":"string","description":"Error message describing the failure.","example":"Invalid booking ID."},"toast":{"type":"string","description":"Optional toast message for the client UI.","example":"Unable to process your request."}},"required":["success","error"]}}}}}}}},"servers":[{"url":"https://project-x-staging-gateway-8ua0taf7.uc.gateway.dev/api/v1"}],"components":{"securitySchemes":{"jwtAuth":{"type":"apiKey","name":"Authorization","in":"header"},"googleApiKey":{"type":"apiKey","name":"api_key","in":"header"}}},"x-last-generated":"2025-08-19T13:25:47.122Z"};
    const ui = SwaggerUIBundle({ spec, dom_id: '#swagger-ui' });
  </script>
</body>
</html>